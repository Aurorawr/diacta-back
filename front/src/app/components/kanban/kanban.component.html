<div>
    <mat-card class="kanban-card">
        <mat-card-title class="title" >Tareas</mat-card-title>
        <mat-card-content class="padding-2r">
            <div class='align-right'>
                Ver solo mis tareas
                <mat-slide-toggle [(ngModel)]='seeAllTasks'>Ver todas las tareas</mat-slide-toggle>
            </div>
            <div fxLayout='col' class='kanban'>
                <div fxFlex='20' class="list-container">
                    <h2>Nuevas</h2>
                
                    <div id="newList" cdkDropList #newList="cdkDropList" [cdkDropListData]="new"
                        cdkDropListConnectedTo='doingList' class="list" (cdkDropListDropped)="drop($event)">
                        <div class="list-item" *ngFor="let task of new" cdkDrag>
                            {{ task.compromise }}
                            <div *ngIf="task.user" class='full-width align-right'>
                                <button mat-mini-fab color="primary" aria-label="Example icon button with a menu icon">
                                    {{getInitials(task.user)}}
                                  </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div fxFlex='20' class="list-container">
                    <h2>DesarrollÃ¡ndose</h2>
                
                    <div id="doingList" cdkDropList #doingList="cdkDropList" [cdkDropListData]="doing"
                        cdkDropListConnectedTo='newList'class="list" (cdkDropListDropped)="drop($event)">
                        <div class="list-item align" *ngFor="let task of doing" cdkDrag>
                            {{ task.compromise }}
                            <div class='full-width align-right'>
                                <button mat-mini-fab color="primary" aria-label="Example icon button with a menu icon">
                                    {{getInitials(task.user)}}
                                  </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div fxFlex='20' class="list-container">
                    <h2>Pausadas</h2>
                
                    <div cdkDropList #pausedList="cdkDropList" [cdkDropListData]="paused"
                        class="list" (cdkDropListDropped)="drop($event)">
                        <div class="list-item" *ngFor="let task of paused" cdkDrag>
                            {{ task.compromise }}
                            <div class='full-width align-right'>
                                <button mat-mini-fab color="primary" aria-label="Example icon button with a menu icon">
                                    {{getInitials(task.user)}}
                                  </button>
                            </div>
                        </div>
                        <div *ngIf="!paused.length" class="list-item" cdkDrag>
                            No hay tareas pausadas
                        </div>
                    </div>
                </div>
                <div fxFlex='20' class="list-container">
                    <h2>Evaluando</h2>
                
                    <div cdkDropList #testingList="cdkDropList" [cdkDropListData]="testing"
                        class="list" (cdkDropListDropped)="drop($event)">
                        <div class="list-item" *ngFor="let task of testing" cdkDrag>
                            {{ task.compromise }}
                            <div class='full-width align-right'>
                                <button mat-mini-fab color="primary" aria-label="Example icon button with a menu icon">
                                    {{getInitials(task.user)}}
                                  </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div fxFlex='20' class="list-container">
                    <h2>Finalizadas</h2>
                
                    <div cdkDropList #endedList="cdkDropList" [cdkDropListData]="ended"
                        class="list" (cdkDropListDropped)="drop($event)">
                        <div class="list-item" *ngFor="let task of ended" cdkDrag>
                            {{ task.compromise }}
                            <div class='full-width align-right'>
                                <button mat-mini-fab color="primary" aria-label="Example icon button with a menu icon">
                                    {{getInitials(task.user)}}
                                  </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </mat-card-content>
    </mat-card>
</div>
